!function(e,x){e.SCS={version:"1.0.0"},SCS.defaults={navArr:[{title:"省",id:"scs_items_prov"},{title:"市",id:"scs_items_city"},{title:"区",id:"scs_items_dist"}],skinCss:"",onOk:function(e,s){},onCancel:function(){}},SCS.init=function(e){e=x.extend({},SCS.defaults,e);var s="",t=e.navArr;s+='<div class="cascade_scroll_selects '+e.skinCss+'" id="cascade_scroll_selects"><div class="scs_container"><div class="scs_cover"></div><div class="scs_dialog"><div class="scs_selects">',t.forEach(function(e){s+='<div class="scs_selects_group"><div class="scs_selects_group_title">'+e.title+'</div><div class="scs_selects_group_view"><div class="scs_items" data-height="240" id="'+e.id+'"></div></div></div>'}),s+='</div><div class="scs_btns"><div class="scs_btn_span"></div><div class="scs_btn scs_btn_ok">确定</div><div class="scs_btn scs_btn_cancel">取消</div></div></div></div></div>',x("#cascade_scroll_selects").remove(),x("body").append(s);var n=x("#cascade_scroll_selects");n.find(".scs_dialog").slideDown(300),n.find(".scs_cover").click(function(){n.find(".scs_dialog").slideUp(200,function(){n.remove()})}),n.find(".scs_btn_ok").click(function(){var t="",a="";x("#cascade_scroll_selects").find(".scs_selected").each(function(e){var s=x(this);0!=e?(t+="-"+s.attr("data-val"),a+=" "+s.html()):(t=s.attr("data-val"),a=s.html())}),e.onOk(t,a),n.find(".scs_dialog").slideUp(200,function(){n.remove()})}),n.find(".scs_btn_cancel").click(function(){e.onCancel(),n.find(".scs_dialog").slideUp(200,function(){n.remove()})})},SCS.destroy=function(e){"function"==typeof e&&e();var s=x("#cascade_scroll_selects");s.find(".scs_dialog").slideUp(200,function(){s.remove()})},SCS.scrollCascadeSelect=function(i){function c(e){u&&(I=(e.pageY-w)/((new Date).getTime()-s),p=e.pageY,g=h+p-_,o.css({"-webkit-transition":"-webkit-transform 0s ease-out","-webkit-transform":"translate3d(0, "+g+"px, 0)"}),w=p,s=(new Date).getTime(),f=!1)}function d(e){if(k=(new Date).getTime(),5<Math.abs(p-_)&&20<k-b){var s=I,t=0<s?.5*s*s/.001:-.5*s*s/.001,a=Math.abs(s)/.001;g=parseInt(o.css("webkitTransform").split(",").pop().replace(" ","").replace(")",""));var n=(g+=t)%40;20<=Math.abs(n)?g+=n<0?-1*(40+n):40-n:g-=n,80<g?g=80:g<-1*(o.attr("data-height")-120)&&(g=-1*(o.attr("data-height")-120)),o.css({"-webkit-transition":"-webkit-transform "+a/1e3+"s ease-out","-webkit-transform":"translate3d(0, "+g+"px, 0)"}),m.selectedIndex=Math.abs((g-80)/-40),setTimeout(function(){o.find(".scs_item").removeClass("scs_selected").eq(m.selectedIndex).addClass("scs_selected"),i.onChange(m.getSelectedItem(),m.selectedIndex)},a)}else f=!0;u=!1,b=k=g=h=p=_=0,w=I=0,l.removeEventListener("mousemove",c),l.removeEventListener("mouseup",d),l.removeEventListener("mouseleave",r)}function r(e){if(u)if(k=(new Date).getTime(),5<Math.abs(p-_)&&20<k-b){var s=I,t=0<s?.5*s*s/.001:-.5*s*s/.001,a=Math.abs(s)/.001;g=parseInt(o.css("webkitTransform").split(",").pop().replace(" ","").replace(")","")),g+=t,residue=g%40,20<=Math.abs(residue)?g+=residue<0?-1*(40+residue):40-residue:g-=residue,80<g?g=80:g<-1*(o.attr("data-height")-120)&&(g=-1*(o.attr("data-height")-120)),o.css({"-webkit-transition":"-webkit-transform "+a/1e3+"s ease-out","-webkit-transform":"translate3d(0, "+g+"px, 0)"}),m.selectedIndex=Math.abs((g-80)/-40),setTimeout(function(){o.find(".scs_item").removeClass("scs_selected").eq(m.selectedIndex).addClass("scs_selected"),i.onChange(m.getSelectedItem(),m.selectedIndex)},a)}else f=!0;u=!1,b=k=g=h=p=_=0,w=I=0,l.removeEventListener("mousemove",c),l.removeEventListener("mouseup",d),l.removeEventListener("mouseleave",r)}i=x.extend({},{el:void 0,dataArr:[],startIndex:0,onInit:function(e,s){},onChange:function(e,s){}},i);var o=x(i.el),l=o.get(0),v=i.dataArr,e=i.startIndex,m=this,u=!1,f=!1,_=0,p=0,h=0,g=h,b=0,k=0,s=(new Date).getTime(),w=0,I=0,t=!0;try{ontouchstart}catch(e){t=!1}m.selectedIndex=e,m.getSelectedItem=function(){return v[this.selectedIndex]},t?(l.addEventListener("touchstart",function(e){p=_=e.changedTouches[0].pageY,b=(new Date).getTime(),h=parseInt(o.css("webkitTransform").split(",").pop().replace(" ","").replace(")","")),I=0},!1),l.addEventListener("touchmove",function(e){event.preventDefault(),I=(e.changedTouches[0].pageY-w)/((new Date).getTime()-s),p=e.changedTouches[0].pageY,g=h+p-_,o.css({"-webkit-transition":"-webkit-transform 0s ease-out","-webkit-transform":"translate3d(0, "+g+"px, 0)"}),w=p,s=(new Date).getTime()},!1),l.addEventListener("touchend",function(e){if(k=(new Date).getTime(),5<Math.abs(p-_)&&50<k-b){var s=I,t=0<s?.5*s*s/.001:-.5*s*s/.001,a=Math.abs(s)/.001;g=parseInt(o.css("webkitTransform").split(",").pop().replace(" ","").replace(")",""));var n=(g+=t)%40;20<=Math.abs(n)?g+=n<0?-1*(40+n):40-n:g-=n,80<g?g=80:g<-1*(o.attr("data-height")-120)&&(g=-1*(o.attr("data-height")-120)),o.css({"-webkit-transition":"-webkit-transform "+a/1e3+"s ease-out","-webkit-transform":"translate3d(0, "+g+"px, 0)"}),m.selectedIndex=Math.abs((g-80)/-40),setTimeout(function(){o.find(".scs_item").removeClass("scs_selected").eq(m.selectedIndex).addClass("scs_selected"),i.onChange(m.getSelectedItem(),m.selectedIndex),f=!1},a)}else f=!0;b=k=g=h=p=_=0,w=I=0},!1)):l.addEventListener("mousedown",function(e){u=!0,p=_=e.pageY,b=(new Date).getTime(),h=parseInt(o.css("webkitTransform").split(",").pop().replace(" ","").replace(")","")),l.addEventListener("mousemove",c),l.addEventListener("mouseup",d),l.addEventListener("mouseleave",r)}),o.on("click",".scs_item",function(e){if(f){var s=x(this),t=80-s.position().top;o.css({"-webkit-transition":"-webkit-transform 0s ease-out","-webkit-transform":"translate3d(0, "+t+"px, 0)"}),o.find(".scs_item").removeClass("scs_selected"),s.addClass("scs_selected"),m.selectedIndex=Math.abs((t-80)/-40),i.onChange(m.getSelectedItem(),m.selectedIndex),havedClick=!1}}),m.render=function(e,s,t){var a="",n=s||0,i=80-40*n;return null==e?void o.html(a):(e.forEach(function(e,s){a+=n!=s?'<div class="scs_item" data-val="'+e.key+'">'+e.val+"</div>":'<div class="scs_item scs_selected" data-val="'+e.key+'">'+e.val+"</div>"}),o.html(a),o.attr("data-height",40*e.length),o.css("-webkit-transform","translate3d(0, "+i+"px, 0)"),o.css("transform","translate3d(0, "+i+"px, 0)"),m.selectedIndex=n,v=e,void("function"==typeof t&&t()))};m.render(v,e),i.onInit(m.getSelectedItem(),m.selectedIndex)}}(this,jQuery);